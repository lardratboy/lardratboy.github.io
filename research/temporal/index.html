<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temporal Text Editor V2 - When Time Becomes Editable</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <h1>⏱ THE TEMPORAL TEXT EDITOR V2 ⏱</h1>
        <div class="subtitle">When Time Becomes Editable - Modular Architecture</div>

        <div class="instructions">
            <h3>Quick Start Guide:</h3>
            <ul>
                <li><strong>Type normally</strong> - Each keystroke is recorded with a timestamp</li>
                <li><strong>Drag timeline</strong> - Scrub backwards through time</li>
                <li><strong>Click grid</strong> - Teleport cursor (no event recorded)</li>
                <li><strong>Type while scrubbed</strong> - Creates concurrent edits that interleave with history</li>
                <li><strong>Arrow keys</strong> - Move cursor (recorded in timeline)</li>
                <li><strong>Insert key</strong> - Toggle between INSERT (|) and OVERWRITE (█) modes</li>
                <li><strong>Backspace/Delete</strong> - Remove characters (behavior depends on mode)</li>
            </ul>
            <div class="try-this">
                <strong>Try this:</strong> Type "HELLO", drag timeline to start, click row 5, type "WORLD" - watch them alternate!
            </div>
        </div>

        <div class="editor-container">
            <canvas id="editor-canvas"></canvas>
        </div>

        <div class="timeline-container">
            <div class="timeline-label">Timeline (drag to scrub through time)</div>
            <div class="timeline" id="timeline">
                <div class="timeline-playhead" id="playhead"></div>
            </div>
        </div>

        <div class="status-bar" id="status-bar">
            <div class="status-item">
                <span>Mode:</span>
                <span class="mode-indicator mode-live" id="mode-indicator">LIVE</span>
            </div>
            <div class="status-item">
                <span>Insert Mode:</span>
                <span class="insert-mode" id="insert-mode-indicator">INSERT (|)</span>
            </div>
            <div class="status-item">
                <span>Time:</span>
                <span class="time-display" id="time-display">0ms / 0ms</span>
            </div>
            <div class="status-item">
                <span>Cursor:</span>
                <span class="time-display" id="cursor-display">(0, 0)</span>
            </div>
            <div class="status-item">
                <span>Events:</span>
                <span class="time-display" id="event-count">0</span>
            </div>
        </div>

        <div class="controls">
            <button id="clear-btn">Clear All</button>
            <button id="export-btn">Export Timeline (JSON)</button>
            <button id="help-btn">Toggle Instructions</button>
        </div>

        <div class="footer">
            <p>Temporal Text Editor V2.0 - Modular Architecture</p>
            <p>Event Sourcing • Time Travel • Concurrent Editing</p>
            <p>Open browser console for debug logs and API access (window.editor)</p>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
